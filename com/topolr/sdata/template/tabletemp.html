<!--[tools]-->
<%for(var i=0;i<data.length;i++){%>
<div class="table-tabletools-tool" @cache(data[i])><%=data[i].name;%></div>
<%}%>
<!--[header]-->
<div class="table-tableheader-rows">
<%for(var i=0;i<data.cols.length;i++){%>
    <%if(data.cols[i].checkbox===true){%>
    <div class="table-tableheader-col" style="width:<%=data.cols[i].width;%>px;line-height:<%=data.cols[i].height;%>px">
        <%if(data.cols[i].isall){%>
        <input type="checkbox" data-bind="click:checkall" checked="true"/>
        <%}else{%>
        <input type="checkbox" data-bind="click:checkall"/>
        <%}%>
    </div>
    <%}else{%>
    <div class="table-tableheader-col" style="width:<%=data.cols[i].width;%>px;line-height:<%=data.cols[i].height;%>px"><%=data.cols[i].name;%></div>
    <%}%>
<%}%>
</div>
<!--[doubleheader]-->
<%
    var leftWidth=data.leftWidth;
    var leftHeight=data.left.height,rightHeight=data.right.height;
    var leftCols=data.left.cols,rightCols=data.right.cols;
%>
<div class="table-tableheader-left" style="width:<%=leftWidth;%>px">
    <div class="table-tableheader-rows">
        <%for(var i=0;i<leftCols.length;i++){%>
            <%if(leftCols[i].checkbox){%>
            <div class="table-tableheader-col" style="width:<%=leftCols[i].width;%>px;line-height:<%=leftHeight;%>px">
                <%if(leftCols[i].isall){%>
                <input type="checkbox" data-bind="click:checkall" checked="true"/>
                <%}else{%>
                <input type="checkbox" data-bind="click:checkall"/>
                <%}%>
            </div>
            <%}else{%>
            <div class="table-tableheader-col" style="width:<%=leftCols[i].width;%>px;line-height:<%=leftHeight;%>px"><%=leftCols[i].value;%></div>
            <%}%>
        <%}%>
    </div>
</div>
<div class="table-tableheader-right" style="left:<%=leftWidth;%>px" data-find="left">
    <div style="width:5000px">
        <div class="table-tableheader-rows">
            <%for(var i=0;i<rightCols.length;i++){%>
            <div class="table-tableheader-col" style="width:<%=rightCols[i].width;%>px;line-height:<%=rightHeight;%>px"><%=rightCols[i].value;%></div>
            <%}%>
        </div>
    </div>
</div>
<!--[body]-->
<%for(var i=0;i<data.rows.length;i++){%>
<div class="table-tablebody-rows<%=(data.rows[i]['__selected__']?' table-row-selected':'');%>" unique="<%=data.rows[i].id;%>" data-bind="click:row" @cache(data.rows[i])>
    <%for(var t in data.rows[i]){%>
    <div class="table-tablebody-col" style="width:<%=data.rows[i]["__width__"];%>px;line-height:<%=data.rows[i]["__height__"];%>px"><%=data.rows[i][t];%></div>
    <%}%>
</div>
<%}%>
<!--[bodyfn]-->
<%for(var i=0;i<data.rows.length;i++){%>
<div class="table-tablebody-rows<%=(data.rows[i]['__selected__']?' table-row-selected':'');%><%=(data.rows[i]['__warned__']?' table-row-warn':'');%><%=(data.rows[i]['__error__']?' table-row-error':'');%>" unique="<%=data.rows[i].id;%>" data-bind="click:row" @cache(data.rows[i])>
    <%if(data.rows[i]["__num__"]){%>
    <div class="table-tablebody-col" style="width:<%=data.rows[i]["__num__"].width;%>px;line-height:<%=data.rows[i]["__num__"].height;%>px"><%=(i+1);%></div>
    <%}%>
    <%if(data.rows[i]["__checkbox__"]){%>
        <%if(data.rows[i]["__selected__"]===true){%>
            <div class="table-tablebody-col"  style="width:<%=data.rows[i]["__checkbox__"].width;%>px;line-height:<%=data.rows[i]["__checkbox__"].height;%>px"><input type="checkbox" checked="true"/></div>
        <%}else{%>
            <div class="table-tablebody-col"  style="width:<%=data.rows[i]["__checkbox__"].width;%>px;line-height:<%=data.rows[i]["__checkbox__"].height;%>px"><input type="checkbox"/></div>
        <%}%>
    <%}%>
    <%if(data.rows[i]["__deals__"]){%>
        <%for(var ed=0;ed<data.rows[i]["__deals__"].length;ed++){%>
        <div class="table-tablebody-col" style="width:<%=data.rows[i]["__deals__"][ed].width;%>px;line-height:<%=data.rows[i]["__deals__"][ed].height;%>px"><div @cache(data.rows[i]["__deals__"][ed])><%=data.rows[i]["__deals__"][ed].name;%></div></div>
        <%}%>
    <%}%>
    <%for(var t in data.rows[i]){%>
        <div class="table-tablebody-col" style="width:<%=data.rows[i]["__width__"];%>px;line-height:<%=data.rows[i]["__height__"];%>px"><%=data.rows[i][t];%></div>
    <%}%>
</div>
<%}%>
<!--[doublebodyfn]-->
<%
    var leftRows=data.left,rightRows=data.right;
    var leftWidth=data.leftWidth;
%>
<div class="table-tablebody-left" style="width:<%=leftWidth;%>px;" data-find="left">
    <div style="height:<%=(leftRows.length*leftWidth+100);%>px">
    <%for(var i=0;i<leftRows.length;i++){%>
    <div class="table-tablebody-rows<%=(leftRows[i].selected?' table-row-selected':'');%><%=(leftRows[i].warn?' table-row-warn':'');%><%=(leftRows[i].error?' table-row-error':'');%>"  unique="<%=leftRows[i].id;%>" data-bind="click:row" @cache(leftRows[i])>
        <%
            var cols=leftRows[i].cols;
        %>
        <%for(var d=0;d<cols.length;d++){%>
            <%if(cols[d].key==="__num__"){%>
                <div class="table-tablebody-col" style="width:<%=cols[d].width;%>px;line-height:<%=leftRows[i].height;%>px"><%=(i+1);%></div>
            <%}%>
            <%if(cols[d].key==="__checkbox__"){%>
                <%if(leftRows[i].selected===true){%>
                <div class="table-tablebody-col"  style="width:<%=cols[d].width;%>px;line-height:<%=leftRows[i].height;%>px"><input type="checkbox" checked="true"/></div>
                <%}else{%>
                <div class="table-tablebody-col"  style="width:<%=cols[d].width;%>px;line-height:<%=leftRows[i].height;%>px"><input type="checkbox"/></div>
                <%}%>
            <%}%>
            <%if(cols[d].key==="__deals__"){%>
                <div class="table-tablebody-col" style="width:<%=cols[d].width;%>px;line-height:<%=leftRows[i].height;%>px"><div @cache(cols[d])><%=cols[d].value.name;%></div></div>
            <%}%>
        <%}%>
    </div>
    <%}%>
    </div>
</div>
<div class="table-tablebody-right" style="left:<%=leftWidth;%>px;" data-find="body">
    <div class="table-tablebody-right-con">
        <%for(var i=0;i<rightRows.length;i++){%>
        <%
        var rcols=rightRows[i].cols;
        %>
        <div class="table-tablebody-rows<%=(rightRows[i].selected?' table-row-selected':'');%><%=(rightRows[i].warn?' table-row-warn':'');%><%=(rightRows[i].error?' table-row-error':'');%>" unique="<%=rightRows[i].id;%>" data-bind="click:row" @cache(rightRows[i])>
            <%for(var t=0;t<rcols.length;t++){%>
            <div class="table-tablebody-col" style="width:<%=rcols[t].width;%>px;line-height:<%=rightRows[i].height;%>px"><%=rcols[t].value;%></div>
            <%}%>
        </div>
        <%}%>
    </div>
</div>
<!--[footer]-->
<div class="table-tablefoot">
    <div class="table-tablefoot-pages">
        <%
            for(var i=0;i<data.pages.length;i++){
            var page=data.pages[i];
        %>
        <%if(page.name==='prev'){%>
            <%if(page.disabled===true){%>
            <div class="table-tablefoot-pages-page table-page-disabled" data-bind="click:prev">prev</div>
            <%}else{%>
            <div class="table-tablefoot-pages-page" data-bind="click:prev">prev</div>
            <%}%>
        <%}%>
        <%if(page.name==='next'){%>
            <%if(page.disabled===true){%>
            <div class="table-tablefoot-pages-page table-page-disabled" data-bind="click:next">next</div>
            <%}else{%>
            <div class="table-tablefoot-pages-page" data-bind="click:next">next</div>
            <%}%>
        <%}%>
        <%if(page.name==='btn'){%>
            <%if(page.none===true){%>
            <div class="table-tablefoot-pages-page table-page-none" data-bind="click:goto" @cache(page)><%=page.num;%></div>
            <%}else{%>
                <%if(page.iscurrent===true){%>
                <div class="table-tablefoot-pages-page table-page-current" data-bind="click:goto" @cache(page)><%=page.num;%></div>
                <%}else{%>
                <div class="table-tablefoot-pages-page" data-bind="click:goto" @cache(page)><%=page.num;%></div>
                <%}%>
            <%}%>
        <%}%>
        <%if(page.name==='dot'){%>
            <%if(page.none===true){%>
            <div class="table-tablefoot-pages-page table-page-none">...</div>
            <%}else{%>
            <div class="table-tablefoot-pages-page">...</div>
            <%}%>
        <%}%>
        <%}%>
    </div>
    <div class="table-tablefoot-btns">
        <div class="table-tablefoot-btns-num"><input type="text"/></div>
        <div class="table-tablefoot-btns-btn">go</div>
    </div>
</div>
<!--[table]-->
<div class="table-simple-con">
    <div class="table-simple-head" style="height:<%=data.rowHeight;%>px">
        <@module type="{{data.headType}}"/>
    </div>
    <div class="table-simple-body" style="top:<%=data.rowHeight;%>px">
        <@module type="{{data.bodyType}}"/>
    </div>
</div>
<div class="table-simple-foot">
    <@module type="{{data.footType}}"/>
</div>
<!--[fntable]-->
<div class="table-fn-tool">
    <@module type="{{data.toolType}}"/>
</div>
<div class="table-fn-con">
    <div class="table-fn-head" style="height:<%=data.rowHeight;%>px">
        <@module type="{{data.headType}}"/>
    </div>
    <div class="table-fn-body" style="top:<%=data.rowHeight;%>px">
        <@module type="{{data.bodyType}}"/>
    </div>
</div>
<div class="table-fn-foot">
    <@module type="{{data.footType}}"/>
</div>
<!--[doublefntable]-->
<div class="table-double-tool">
    <@module type="{{data.toolType}}"/>
</div>
<div class="table-double-con">
    <div class="table-double-head" style="height:<%=data.rowHeight;%>px">
        <@module type="{{data.headType}}"/>
    </div>
    <div class="table-double-body" style="top:<%=data.rowHeight;%>px">
        <@module type="{{data.bodyType}}"/>
    </div>
</div>
<div class="table-double-foot">
    <@module type="{{data.footType}}"/>
</div>